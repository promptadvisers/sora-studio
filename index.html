<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAI Video API - Sora Studio</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸŽ¬</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        :root {
            --primary-start: #667eea;
            --primary-end: #764ba2;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-900: #1f2937;
            --blue: #3b82f6;
            --purple: #a855f7;
        }

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            font-size: 15px;
            line-height: 1.6;
            color: var(--gray-900);
        }

        h1 {
            font-size: 32px;
            font-weight: 700;
            line-height: 1.2;
        }

        h2 {
            font-size: 24px;
            font-weight: 600;
            line-height: 1.2;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        body {
            background: #ffffff;
        }

        /* Header */
        .header-pro {
            height: 64px;
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
        }

        /* Primary Gradient */
        .gradient-primary {
            background: linear-gradient(135deg, var(--primary-start) 0%, var(--primary-end) 100%);
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
            padding: 12px 24px;
            border-radius: 10px;
            transition: all 0.2s ease-in-out;
            font-weight: 600;
            font-size: 15px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:focus {
            outline: 2px solid var(--primary-start);
            outline-offset: 2px;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            padding: 10px 20px;
            border-radius: 8px;
            transition: all 0.2s ease-in-out;
            font-weight: 500;
            font-size: 14px;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .btn-destructive {
            background: #fef2f2;
            color: #dc2626;
            padding: 10px 20px;
            border-radius: 8px;
            transition: all 0.2s ease-in-out;
            font-weight: 500;
            font-size: 14px;
        }

        .btn-destructive:hover {
            background: #fee2e2;
        }

        /* Cards */
        .card-pro {
            background: white;
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        /* Tab Navigation */
        .tab-btn {
            position: relative;
            padding-bottom: 8px;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
        }

        /* Input Fields */
        .input-pro {
            border: 1.5px solid var(--gray-200);
            padding: 16px;
            border-radius: 12px;
            font-size: 15px;
            line-height: 1.6;
            transition: all 0.2s ease-in-out;
        }

        .input-pro:focus {
            border-color: var(--primary-start);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            outline: none;
        }

        /* Segmented Control */
        .segmented-control {
            background: var(--gray-50);
            padding: 4px;
            border-radius: 10px;
            display: flex;
            gap: 4px;
        }

        .segment {
            flex: 1;
            height: 44px;
            border-radius: 8px;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            border: none;
            background: transparent;
            color: var(--gray-500);
            font-weight: 500;
            font-size: 15px;
        }

        .segment.active {
            background: white;
            color: var(--gray-900);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06);
        }

        /* Resolution Cards */
        .resolution-card {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid var(--gray-200);
            transition: all 0.2s ease-in-out;
            cursor: pointer;
            background: white;
        }

        .resolution-card:hover {
            border-color: var(--gray-300);
            transform: translateY(-2px);
        }

        .resolution-card.selected {
            border-color: var(--primary-start);
            background: rgba(102, 126, 234, 0.02);
        }

        /* Progress Bar */
        .progress-bar {
            transition: width 0.3s ease-in-out;
            background: linear-gradient(90deg, var(--primary-start), var(--primary-end));
        }

        /* Video Cards */
        .video-card {
            transition: all 0.2s ease-in-out;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .video-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
        }

        .video-card img,
        .video-card video {
            border-radius: 12px 12px 0 0;
        }

        /* Job Cards */
        .job-card {
            transition: all 0.2s ease-in-out;
            border-left: 3px solid transparent;
        }

        .job-card:hover {
            border-left-color: var(--primary-start);
            background: rgba(102, 126, 234, 0.02);
        }

        /* Toast */
        .toast {
            animation: slideIn 0.3s ease-out;
            backdrop-filter: blur(10px);
        }

        .modal-backdrop {
            animation: fadeIn 0.2s ease-out;
            backdrop-filter: blur(8px);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        /* Modal Info Grid */
        .modal-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px 40px;
        }

        .modal-info-label {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 8px;
        }

        .modal-info-value {
            font-size: 16px;
            font-weight: 500;
            color: #111827;
        }

        .modal-info-value-large {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
        }

        .modal-prompt-box {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            font-size: 15px;
            line-height: 1.6;
            color: #374151;
        }

        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }

        /* Mobile Touch Targets */
        @media (max-width: 640px) {
            .btn-primary {
                min-height: 44px;
                min-width: 44px;
            }

            .card-pro {
                padding: 20px;
            }

            h1 {
                font-size: 28px;
            }

            h2 {
                font-size: 22px;
            }

            .modal-info-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
        }
    </style>
</head>
<body class="min-h-screen" style="background: #f9fafb;">
    <!-- Header -->
    <header class="header-pro sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between">
            <div class="flex items-center space-x-3 cursor-pointer hover:opacity-80 transition-opacity" onclick="app.switchTab('create')">
                <div class="gradient-primary rounded-xl flex items-center justify-center" style="width: 48px; height: 48px;">
                    <i class="fas fa-video text-white text-xl"></i>
                </div>
                <div style="margin-top: 4px;">
                    <h1 style="font-size: 20px; font-weight: 700; letter-spacing: -0.02em; color: #111827; line-height: 1;">Sora Studio</h1>
                    <p style="font-size: 13px; font-weight: 500; color: #6b7280; margin-top: 4px;">AI Video Generation</p>
                </div>
            </div>
            <button onclick="app.showSettings()" class="px-4 py-2 rounded-lg transition-all duration-200 hover:bg-gray-50" style="font-size: 14px; font-weight: 500; color: var(--gray-600);">
                <i class="fas fa-cog mr-2"></i>
                <span class="hidden sm:inline">Settings</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- API Key Warning -->
        <div id="apiKeyWarning" class="mb-6 glass border-l-4 border-yellow-400 p-5 rounded-2xl shadow-lg hidden">
            <div class="flex items-center">
                <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-xl flex items-center justify-center animate-float">
                    <i class="fas fa-exclamation-triangle text-white text-xl"></i>
                </div>
                <div class="ml-4">
                    <p class="text-sm text-gray-700 font-medium">
                        <strong class="text-gray-900">API Key Required:</strong> Please add your OpenAI API key in Settings to start generating videos.
                        <button onclick="app.showSettings()" class="underline font-bold ml-2 text-blue-600 hover:text-blue-700">Add API Key</button>
                    </p>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="mb-8" style="border-bottom: 1px solid #e5e7eb;">
            <nav class="flex gap-6">
                <button onclick="app.switchTab('create')" id="tab-create" class="tab-btn active px-1 transition-all duration-200" style="font-size: 14px; font-weight: 500; color: #111827;">
                    <i class="fas fa-plus-circle mr-2"></i>Create
                </button>
                <button onclick="app.switchTab('dashboard')" id="tab-dashboard" class="tab-btn px-1 transition-all duration-200" style="font-size: 14px; font-weight: 500; color: #6b7280;">
                    <i class="fas fa-list mr-2"></i>Dashboard
                </button>
                <button onclick="app.switchTab('gallery')" id="tab-gallery" class="tab-btn px-1 transition-all duration-200" style="font-size: 14px; font-weight: 500; color: #6b7280;">
                    <i class="fas fa-images mr-2"></i>Gallery
                </button>
            </nav>
        </div>

        <!-- Create Video Tab -->
        <div id="createTab" class="tab-content">
            <div class="card-pro">
                <h2 class="mb-8" style="font-size: 28px; font-weight: 700; color: #111827;">Generate New Video</h2>

                <form id="createVideoForm" class="space-y-6">
                    <!-- Prompt -->
                    <div class="relative">
                        <label class="block mb-2" style="font-size: 12px; font-weight: 500; color: var(--gray-600);">
                            Prompt <span class="text-red-500">*</span>
                        </label>
                        <div class="relative">
                            <textarea
                                id="prompt"
                                rows="5"
                                maxlength="1000"
                                class="input-pro w-full resize-none"
                                placeholder="Describe the video you want to generate... (e.g., A golden retriever puppy playing in a field of flowers at sunset)"
                                required
                            ></textarea>
                            <span id="charCount" class="absolute top-3 right-3 text-xs" style="color: var(--gray-500);">0 / 1000</span>
                        </div>

                        <!-- Prompt Templates -->
                        <button type="button" onclick="app.showPromptTemplates()" class="mt-2 text-sm transition-all" style="color: #4b5563; font-weight: 500;">
                            <i class="fas fa-lightbulb mr-1"></i><span class="hover:underline">View Example Prompts</span>
                        </button>
                    </div>

                    <!-- Model Selection -->
                    <div>
                        <label class="block mb-2" style="font-size: 12px; font-weight: 500; color: var(--gray-600);">Model</label>
                        <select id="model" class="input-pro w-full">
                            <option value="sora-2" selected>sora-2 (Latest)</option>
                        </select>
                    </div>

                    <!-- Duration -->
                    <div>
                        <label class="block mb-3" style="font-size: 12px; font-weight: 500; color: var(--gray-600);">Duration</label>
                        <div class="segmented-control">
                            <button type="button" onclick="app.selectDuration('4')" class="segment active" data-duration="4">
                                <div style="font-size: 15px; font-weight: 600;">4s</div>
                                <div style="font-size: 12px; font-weight: 400; opacity: 0.6;">Quick</div>
                            </button>
                            <button type="button" onclick="app.selectDuration('8')" class="segment" data-duration="8">
                                <div style="font-size: 15px; font-weight: 600;">8s</div>
                                <div style="font-size: 12px; font-weight: 400; opacity: 0.6;">Standard</div>
                            </button>
                            <button type="button" onclick="app.selectDuration('12')" class="segment" data-duration="12">
                                <div style="font-size: 15px; font-weight: 600;">12s</div>
                                <div style="font-size: 12px; font-weight: 400; opacity: 0.6;">Extended</div>
                            </button>
                        </div>
                        <input type="hidden" id="seconds" value="4">
                    </div>

                    <!-- Resolution -->
                    <div>
                        <label class="block mb-3" style="font-size: 12px; font-weight: 500; color: var(--gray-600);">Resolution</label>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <button type="button" onclick="app.selectResolution('720x1280')" class="size-btn resolution-card selected" data-size="720x1280">
                                <div class="flex items-center justify-between mb-2">
                                    <span style="font-size: 16px; font-weight: 600; color: #1f2937;">Portrait</span>
                                    <div class="w-2 h-2 rounded-full" style="background: #d1d5db;"></div>
                                </div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--gray-600);">720 Ã— 1280</div>
                                <div style="font-size: 13px; font-weight: 400; color: var(--gray-500); margin-top: 4px;">9:16 aspect ratio</div>
                            </button>

                            <button type="button" onclick="app.selectResolution('1024x1808')" class="size-btn resolution-card" data-size="1024x1808">
                                <div class="flex items-center justify-between mb-2">
                                    <span style="font-size: 16px; font-weight: 600; color: #1f2937;">Tall Portrait</span>
                                    <div class="w-2 h-2 rounded-full" style="background: #d1d5db;"></div>
                                </div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--gray-600);">1024 Ã— 1808</div>
                                <div style="font-size: 13px; font-weight: 400; color: var(--gray-500); margin-top: 4px;">9:16 high-res</div>
                            </button>

                            <button type="button" onclick="app.selectResolution('1280x720')" class="size-btn resolution-card" data-size="1280x720">
                                <div class="flex items-center justify-between mb-2">
                                    <span style="font-size: 16px; font-weight: 600; color: #1f2937;">Landscape</span>
                                    <div class="w-2 h-2 rounded-full" style="background: #d1d5db;"></div>
                                </div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--gray-600);">1280 Ã— 720</div>
                                <div style="font-size: 13px; font-weight: 400; color: var(--gray-500); margin-top: 4px;">16:9 aspect ratio</div>
                            </button>

                            <button type="button" onclick="app.selectResolution('1808x1024')" class="size-btn resolution-card" data-size="1808x1024">
                                <div class="flex items-center justify-between mb-2">
                                    <span style="font-size: 16px; font-weight: 600; color: #1f2937;">Wide Landscape</span>
                                    <div class="w-2 h-2 rounded-full" style="background: #d1d5db;"></div>
                                </div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--gray-600);">1808 Ã— 1024</div>
                                <div style="font-size: 13px; font-weight: 400; color: var(--gray-500); margin-top: 4px;">16:9 high-res</div>
                            </button>
                        </div>
                        <input type="hidden" id="size" value="720x1280">
                    </div>

                    <!-- Optional Reference Upload -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Input Reference <span class="text-gray-400 font-normal">(Optional)</span>
                        </label>
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition">
                            <input type="file" id="inputReference" accept="image/*,video/*" class="hidden" onchange="app.handleFileSelect(event)">
                            <button type="button" onclick="document.getElementById('inputReference').click()" class="text-blue-600 hover:text-blue-700">
                                <i class="fas fa-upload text-3xl mb-2"></i>
                                <p class="text-sm">Click to upload image or video reference</p>
                                <p class="text-xs text-gray-400 mt-1">Guides the video generation</p>
                            </button>
                            <div id="filePreview" class="mt-4 hidden"></div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="flex flex-col sm:flex-row items-stretch sm:items-center justify-between pt-8 gap-4" style="border-top: 1px solid var(--gray-200);">
                        <div class="flex items-center space-x-2" style="font-size: 13px; color: var(--gray-500);">
                            <i class="fas fa-info-circle"></i>
                            <span>Estimated time: 2-5 minutes</span>
                        </div>
                        <button type="submit" class="btn-primary text-white w-full sm:w-auto">
                            <i class="fas fa-magic mr-2"></i>Generate Video
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboardTab" class="tab-content hidden">
            <div class="card-pro">
                <!-- Dashboard Header -->
                <div class="mb-6 pb-6" style="border-bottom: 1px solid #e5e7eb;">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <div class="flex items-center space-x-3">
                            <div class="rounded-xl flex items-center justify-center" style="width: 40px; height: 40px; background: #f3f4f6;">
                                <i class="fas fa-list" style="color: #6b7280; font-size: 18px;"></i>
                            </div>
                            <h2 style="font-size: 28px; font-weight: 700; color: #111827;">Video Jobs</h2>
                        </div>

                        <div class="flex flex-wrap gap-2">
                            <!-- Status Filter -->
                            <select id="statusFilter" onchange="app.filterJobs()" class="input-pro" style="font-size: 14px; padding: 10px 16px;">
                                <option value="all">All Status</option>
                                <option value="queued">Queued</option>
                                <option value="processing">Processing</option>
                                <option value="completed">Completed</option>
                                <option value="failed">Failed</option>
                            </select>

                            <!-- Search -->
                            <input type="text" id="searchJobs" placeholder="Search..." onkeyup="app.filterJobs()" class="input-pro" style="font-size: 14px; padding: 10px 16px; min-width: 200px;">

                            <!-- Refresh -->
                            <button onclick="app.refreshJobs()" class="btn-secondary" style="padding: 10px 16px;">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Auto-refresh indicator -->
                    <div class="mt-4 text-sm text-gray-500 flex items-center">
                        <i class="fas fa-clock mr-1"></i>
                        Auto-refreshing every <span id="refreshInterval">10</span> seconds
                        <button onclick="app.toggleAutoRefresh()" id="autoRefreshToggle" class="ml-2 text-blue-600 hover:text-blue-700">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <span id="refreshingIndicator" class="ml-3 text-blue-600 hidden">
                            <i class="fas fa-sync fa-spin mr-1"></i>Refreshing...
                        </span>
                    </div>
                </div>

                <!-- Jobs List -->
                <div id="jobsList" class="divide-y divide-gray-200">
                    <!-- Jobs will be inserted here -->
                </div>

                <!-- Empty State -->
                <div id="emptyState" class="p-16 text-center hidden">
                    <div class="animate-float mb-6">
                        <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-video text-blue-500 text-5xl"></i>
                        </div>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">No video jobs yet</h3>
                    <p class="text-gray-500 mb-6 text-lg">Create your first video to get started</p>
                    <button onclick="app.switchTab('create')" class="btn-gradient px-6 py-3 text-white font-bold rounded-xl shadow-lg">
                        <i class="fas fa-plus mr-2"></i>Create Video
                    </button>
                </div>
            </div>
        </div>

        <!-- Gallery Tab -->
        <div id="galleryTab" class="tab-content hidden">
            <div class="mb-6 card-pro flex justify-between items-center" style="padding: 24px;">
                <div class="flex items-center space-x-3">
                    <div class="rounded-xl flex items-center justify-center" style="width: 40px; height: 40px; background: #f3f4f6;">
                        <i class="fas fa-images" style="color: #6b7280; font-size: 18px;"></i>
                    </div>
                    <h2 style="font-size: 28px; font-weight: 700; color: #111827;">Completed Videos</h2>
                </div>
                <button onclick="app.exportHistory()" class="btn-secondary">
                    <i class="fas fa-download mr-2"></i>Export History
                </button>
            </div>

            <div id="galleryGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Gallery items will be inserted here -->
            </div>

            <!-- Empty Gallery State -->
            <div id="emptyGallery" class="glass rounded-3xl shadow-2xl p-16 text-center hidden">
                <div class="animate-float mb-6">
                    <div class="w-24 h-24 mx-auto bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center">
                        <i class="fas fa-images text-purple-500 text-5xl"></i>
                    </div>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">No completed videos yet</h3>
                <p class="text-gray-500 text-lg">Completed videos will appear here</p>
            </div>
        </div>
    </main>

    <!-- Settings Modal -->
    <div id="settingsModal" class="fixed inset-0 bg-black bg-opacity-60 modal-backdrop hidden z-50 flex items-center justify-center p-4" onclick="if(event.target === this) app.closeSettings()">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative" style="box-shadow: 0 20px 60px rgba(0,0,0,0.15);">
            <!-- Close button outside content area -->
            <button onclick="app.closeSettings()" class="absolute -top-12 right-0 w-10 h-10 flex items-center justify-center rounded-lg bg-white hover:bg-gray-100 transition z-10" style="color: #374151;">
                <i class="fas fa-times text-xl"></i>
            </button>

            <div class="p-8 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="rounded-xl flex items-center justify-center" style="width: 40px; height: 40px; background: #f3f4f6;">
                        <i class="fas fa-cog" style="color: #6b7280; font-size: 18px;"></i>
                    </div>
                    <h2 style="font-size: 28px; font-weight: 700; color: #111827;">Settings</h2>
                </div>
            </div>

            <form class="p-6 space-y-6">
                <!-- API Key -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">OpenAI API Key</label>
                    <div class="flex space-x-2">
                        <input type="password" id="apiKeyInput" placeholder="sk-..." autocomplete="off" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        <button type="button" onclick="app.toggleApiKeyVisibility()" class="px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg">
                            <i class="fas fa-eye" id="apiKeyToggleIcon"></i>
                        </button>
                    </div>
                    <p class="text-xs text-yellow-600 mt-2">
                        <i class="fas fa-exclamation-triangle mr-1"></i>
                        Warning: API key is stored in browser localStorage. For production use, implement proper backend authentication.
                    </p>
                    <p class="text-xs text-blue-600 mt-2">
                        <i class="fas fa-info-circle mr-1"></i>
                        <strong>Tip:</strong> For persistent storage, add your API key to the <code class="bg-gray-100 px-1 rounded">.env</code> file instead.
                    </p>
                </div>

                <!-- Default Preferences -->
                <div class="border-t border-gray-200 pt-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Default Preferences</h3>

                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Default Duration</label>
                            <select id="defaultDuration" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="4">4 seconds</option>
                                <option value="6">6 seconds</option>
                                <option value="8">8 seconds</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Default Resolution</label>
                            <select id="defaultSize" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                <option value="720x1280">720x1280 (Portrait)</option>
                                <option value="1024x1808">1024x1808 (Tall Portrait)</option>
                                <option value="1280x720">1280x720 (Landscape)</option>
                                <option value="1808x1024">1808x1024 (Wide Landscape)</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Auto-refresh Interval (seconds)</label>
                            <input type="number" id="refreshIntervalInput" min="5" max="60" value="10" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="border-t border-gray-200 pt-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Actions</h3>
                    <button type="button" onclick="app.clearAllData()" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition">
                        <i class="fas fa-trash mr-2"></i>Clear All Local Data
                    </button>
                </div>
            </form>

            <div class="p-8 border-t border-gray-200 flex justify-end gap-3">
                <button type="button" onclick="app.closeSettings()" class="btn-secondary">
                    Cancel
                </button>
                <button type="button" onclick="app.saveSettings()" class="btn-primary text-white">
                    Save Settings
                </button>
            </div>
        </div>
    </div>

    <!-- Video Details Modal -->
    <div id="videoDetailsModal" class="fixed inset-0 bg-black bg-opacity-60 modal-backdrop hidden z-50 flex items-center justify-center p-4" onclick="if(event.target === this) app.closeVideoDetails()">
        <div class="bg-white rounded-2xl max-w-[900px] w-full max-h-[90vh] overflow-y-auto relative" style="box-shadow: 0 20px 60px rgba(0,0,0,0.15);">
            <!-- Close button outside content area -->
            <button onclick="app.closeVideoDetails()" class="absolute -top-12 right-0 w-10 h-10 flex items-center justify-center rounded-lg bg-white hover:bg-gray-100 transition z-10" style="color: #374151;">
                <i class="fas fa-times text-xl"></i>
            </button>

            <div class="p-6 sm:p-10">
                <div id="videoDetailsContent">
                    <!-- Video details will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Prompt Templates Modal -->
    <div id="promptTemplatesModal" class="fixed inset-0 bg-black bg-opacity-60 modal-backdrop hidden z-50 flex items-center justify-center p-4" onclick="if(event.target === this) app.closePromptTemplates()">
        <div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto relative" style="box-shadow: 0 20px 60px rgba(0,0,0,0.15);">
            <!-- Close button outside content area -->
            <button onclick="app.closePromptTemplates()" class="absolute -top-12 right-0 w-10 h-10 flex items-center justify-center rounded-lg bg-white hover:bg-gray-100 transition z-10" style="color: #374151;">
                <i class="fas fa-times text-xl"></i>
            </button>

            <div class="p-8 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="rounded-xl flex items-center justify-center" style="width: 40px; height: 40px; background: #f3f4f6;">
                        <i class="fas fa-lightbulb" style="color: #6b7280; font-size: 18px;"></i>
                    </div>
                    <h2 style="font-size: 28px; font-weight: 700; color: #111827;">Example Prompts</h2>
                </div>
            </div>

            <div class="p-8 space-y-3">
                <!-- Prompt templates will be inserted here -->
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed bottom-4 right-4 z-50 space-y-2">
        <!-- Toasts will be inserted here -->
    </div>

    <!-- JavaScript -->
    <script src="src/config.js"></script>
    <script src="src/app.js"></script>
</body>
</html>
